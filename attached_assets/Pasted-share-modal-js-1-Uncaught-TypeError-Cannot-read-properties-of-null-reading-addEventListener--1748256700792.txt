share-modal.js:1 Uncaught TypeError: Cannot read properties of null (reading 'addEventListener')
    at share-modal.js:1:135
chunk-RPCDYKBN.js?v=d940a134:21551 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
PurchaseBillSplitView.tsx:685 Checking for discount in bill view: Object
PurchaseBillSplitView.tsx:693 Bill metadata when checking discount: Object
PurchaseBillSplitView.tsx:730 Discount calculation with improved handling: Object
PurchaseBillSplitView.tsx:186 Original bill for editing: Object
PurchaseBillSplitView.tsx:220 Prepared metadata for edit: Object
PurchaseBillSplitView.tsx:246 üü¢ EDIT PREP: Found direct property value 2 for product 5
PurchaseBillSplitView.tsx:304 üìä EDIT PREP SUMMARY for product 5: Object
PurchaseBillSplitView.tsx:312 VIEW FINAL: Product 5 received qty = 2 (direct-property)
PurchaseBillSplitView.tsx:339 Determined contact ID: null
PurchaseBillSplitView.tsx:342 Processed items: Array(1)
PurchaseBillSplitView.tsx:384 Bill object prepared for editing: Object
PurchaseBillFormSplit.tsx:82 INIT - Initializing bill items from editing bill: Object
PurchaseBillFormSplit.tsx:83 INIT - Items data to initialize from: [
  {
    "amount": 24000,
    "taxRate": 0,
    "taxType": "percentage",
    "discount": 0,
    "quantity": 3,
    "productId": 5,
    "unitPrice": 8000,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "discountType": "percentage",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:93 ‚úÖ INIT - Bill has metadata property
PurchaseBillFormSplit.tsx:100 ‚úÖ INIT - Successfully parsed metadata string: {
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "itemQuantitiesReceived": [],
  "receivedQuantityMap": {}
}
PurchaseBillFormSplit.tsx:113 ‚úÖ INIT - Found receivedQuantityMap in metadata: Object
PurchaseBillFormSplit.tsx:133 ‚úÖ INIT - Found itemQuantitiesReceived array in metadata: []
PurchaseBillFormSplit.tsx:154 ‚ö†Ô∏è INIT - No received quantities found in metadata
PurchaseBillFormSplit.tsx:177 INIT - Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:183 INIT - Adding direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:189 INIT - Final quantityReceivedMap: Object
PurchaseBillFormSplit.tsx:212 INIT - FINAL quantityReceived for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): 2
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:503 Parsed metadata: Object
PurchaseBillFormSplit.tsx:239 üîí FREEZE SYSTEM: Initializing freeze state detection...
PurchaseBillFormSplit.tsx:247 üîí FREEZE SYSTEM: Checking bill metadata for freeze status Object
PurchaseBillFormSplit.tsx:268 üîí FREEZE SYSTEM: Successfully extracted freeze status Object
PurchaseBillFormSplit.tsx:283 üîí FREEZE SYSTEM: Setting freeze state to false for bill 22
PurchaseBillFormSplit.tsx:290 üîí FREEZE SYSTEM: Bill is unfrozen - form is editable
PurchaseBillFormSplit.tsx:297 üîí FREEZE STATE CHANGED: isFrozen is now false for bill 22
PurchaseBillFormSplit.tsx:301 üîì FORM UNLOCKED: All inputs should be editable and save button should work normally
PurchaseBillFormSplit.tsx:1164 BILL EDIT DEBUG - Full bill being edited: {
  "id": 22,
  "businessId": 1,
  "accountId": 1,
  "documentNumber": "BILL-20250526-8376",
  "date": "2025-05-26T00:10:20.533Z",
  "notes": "",
  "description": "Bill #BILL-20250526-8376",
  "status": "partial_received",
  "contactName": "Shayaduzzaman Khan",
  "vendorId": null,
  "billNumber": "BILL-20250526-8376",
  "billDate": "2025-05-26T00:10:20.533Z",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "amount": 0,
  "paymentReceived": 0,
  "items": [
    {
      "amount": 24000,
      "taxRate": 0,
      "taxType": "percentage",
      "discount": 0,
      "quantity": 3,
      "productId": 5,
      "unitPrice": 8000,
      "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
      "discountType": "percentage",
      "quantityReceived": 2
    }
  ],
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "createdAt": "2025-05-26T00:10:47.189Z",
  "type": "expense",
  "category": "Purchases",
  "metadata": "{\"totalDiscount\":0,\"totalDiscountType\":\"flat\",\"dueDate\":\"2025-05-26T00:10:20.533Z\",\"itemQuantitiesReceived\":[],\"receivedQuantityMap\":{}}"
}
PurchaseBillFormSplit.tsx:1176 DEBUG: Successfully parsed metadata from string
PurchaseBillFormSplit.tsx:1189 DEBUG: Raw metadata content: Object
PurchaseBillFormSplit.tsx:1200 DEBUG: Properly validated quantities from metadata: []
PurchaseBillFormSplit.tsx:1228 DEBUG: Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:1237 DEBUG: Added direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:1244 DEEP DEBUG - Raw transaction items before processing: [{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}]
PurchaseBillFormSplit.tsx:1245 DEEP DEBUG - Full transaction object: {"id":22,"businessId":1,"accountId":1,"documentNumber":"BILL-20250526-8376","date":"2025-05-26T00:10:20.533Z","notes":"","description":"Bill #BILL-20250526-8376","status":"partial_received","contactName":"Shayaduzzaman Khan","vendorId":null,"billNumber":"BILL-20250526-8376","billDate":"2025-05-26T00:10:20.533Z","dueDate":"2025-05-26T00:10:20.533Z","amount":0,"paymentReceived":0,"items":[{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}],"totalDiscount":0,"totalDiscountType":"flat","createdAt":"2025-05-26T00:10:47.189Z","type":"expense","category":"Purchases","metadata":"{\"totalDiscount\":0,\"totalDiscountType\":\"flat\",\"dueDate\":\"2025-05-26T00:10:20.533Z\",\"itemQuantitiesReceived\":[],\"receivedQuantityMap\":{}}"}
PurchaseBillFormSplit.tsx:1252 DEEP DEBUG - Raw item data for product 5: {"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}
PurchaseBillFormSplit.tsx:1260 DEEP DEBUG - Found direct quantityReceived=2 on item for product 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [amount] = 24000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxRate] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discount] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantity] = 3
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [productId] = 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [unitPrice] = 8000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [description] = Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discountType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantityReceived] = 2
PurchaseBillFormSplit.tsx:1271 DEEP DEBUG - Final processing decision for Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:1308 Found totalDiscount in direct property: 0
PurchaseBillFormSplit.tsx:1316 Setting totalDiscount: 0 type: flat
PurchaseBillFormSplit.tsx:1366 Checking for metadata in editingBill: Object
PurchaseBillFormSplit.tsx:1382 Using totalDiscount from direct property: 0
PurchaseBillFormSplit.tsx:1451 ‚ö†Ô∏è FIXED: Quantity for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): Object
PurchaseBillFormSplit.tsx:1473 üîç FINAL ITEMS FOR FORM: [
  {
    "productId": 5,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:1491 üîß EXPLICITLY set form item 0 (5) quantityReceived to: 2
PurchaseBillFormSplit.tsx:1502 Final form reset - Product 5: Quantity 2
PurchaseBillFormSplit.tsx:1514 REBUILD - Initializing form with complete bill data and quantities
PurchaseBillFormSplit.tsx:1531 INIT ITEM 0: Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:503 Parsed metadata: Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:503 Parsed metadata: Object
PurchaseBillFormSplit.tsx:1594 REBUILD - Quantity confirmation complete
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:503 Parsed metadata: Object
PurchaseBillFormSplit.tsx:1634 üîí TOGGLE: Switching from false to true for bill 22
PurchaseBillFormSplit.tsx:1655 üîÑ UPDATE FREEZE STATUS: Setting bill 22 freeze to true
PurchaseBillFormSplit.tsx:1656 üîÑ UPDATE FREEZE STATUS: Current metadata: {"totalDiscount":0,"totalDiscountType":"flat","dueDate":"2025-05-26T00:10:20.533Z","itemQuantitiesReceived":[],"receivedQuantityMap":{}}
PurchaseBillFormSplit.tsx:1682 üîÑ UPDATE FREEZE STATUS: Sending metadata: Object
PurchaseBillFormSplit.tsx:1688 ‚úÖ FREEZE STATUS UPDATE: Bill 22 freeze status successfully set to true
PurchaseBillFormSplit.tsx:1643 üîí TOGGLE: Successfully updated freeze state to true
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:239 üîí FREEZE SYSTEM: Initializing freeze state detection...
PurchaseBillFormSplit.tsx:247 üîí FREEZE SYSTEM: Checking bill metadata for freeze status Object
PurchaseBillFormSplit.tsx:268 üîí FREEZE SYSTEM: Successfully extracted freeze status Object
PurchaseBillFormSplit.tsx:283 üîí FREEZE SYSTEM: Setting freeze state to true for bill 22
PurchaseBillFormSplit.tsx:288 üîí FREEZE SYSTEM: Bill is frozen - applying form restrictions
PurchaseBillFormSplit.tsx:297 üîí FREEZE STATE CHANGED: isFrozen is now true for bill 22
PurchaseBillFormSplit.tsx:299 üßä FORM LOCKED: All inputs should be disabled and save button should show frozen message
PurchaseBillFormSplit.tsx:1164 BILL EDIT DEBUG - Full bill being edited: {
  "id": 22,
  "businessId": 1,
  "accountId": 1,
  "documentNumber": "BILL-20250526-8376",
  "date": "2025-05-26T00:10:20.533Z",
  "notes": "",
  "description": "Bill #BILL-20250526-8376",
  "status": "partial_received",
  "contactName": "Shayaduzzaman Khan",
  "vendorId": null,
  "billNumber": "BILL-20250526-8376",
  "billDate": "2025-05-26T00:10:20.533Z",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "amount": 0,
  "paymentReceived": 0,
  "items": [
    {
      "amount": 24000,
      "taxRate": 0,
      "taxType": "percentage",
      "discount": 0,
      "quantity": 3,
      "productId": 5,
      "unitPrice": 8000,
      "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
      "discountType": "percentage",
      "quantityReceived": 2
    }
  ],
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "createdAt": "2025-05-26T00:10:47.189Z",
  "type": "expense",
  "category": "Purchases",
  "metadata": {
    "totalDiscount": 0,
    "totalDiscountType": "flat",
    "dueDate": "2025-05-26T00:10:20.533Z",
    "itemQuantitiesReceived": [],
    "receivedQuantityMap": {},
    "isFrozen": true,
    "lastFreezeUpdate": "2025-05-26T10:49:52.994Z"
  }
}
PurchaseBillFormSplit.tsx:1184 DEBUG: Metadata was already an object
PurchaseBillFormSplit.tsx:1189 DEBUG: Raw metadata content: Object
PurchaseBillFormSplit.tsx:1200 DEBUG: Properly validated quantities from metadata: []
PurchaseBillFormSplit.tsx:1228 DEBUG: Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:1237 DEBUG: Added direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:1244 DEEP DEBUG - Raw transaction items before processing: [{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}]
PurchaseBillFormSplit.tsx:1245 DEEP DEBUG - Full transaction object: {"id":22,"businessId":1,"accountId":1,"documentNumber":"BILL-20250526-8376","date":"2025-05-26T00:10:20.533Z","notes":"","description":"Bill #BILL-20250526-8376","status":"partial_received","contactName":"Shayaduzzaman Khan","vendorId":null,"billNumber":"BILL-20250526-8376","billDate":"2025-05-26T00:10:20.533Z","dueDate":"2025-05-26T00:10:20.533Z","amount":0,"paymentReceived":0,"items":[{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}],"totalDiscount":0,"totalDiscountType":"flat","createdAt":"2025-05-26T00:10:47.189Z","type":"expense","category":"Purchases","metadata":{"totalDiscount":0,"totalDiscountType":"flat","dueDate":"2025-05-26T00:10:20.533Z","itemQuantitiesReceived":[],"receivedQuantityMap":{},"isFrozen":true,"lastFreezeUpdate":"2025-05-26T10:49:52.994Z"}}
PurchaseBillFormSplit.tsx:1252 DEEP DEBUG - Raw item data for product 5: {"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}
PurchaseBillFormSplit.tsx:1260 DEEP DEBUG - Found direct quantityReceived=2 on item for product 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [amount] = 24000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxRate] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discount] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantity] = 3
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [productId] = 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [unitPrice] = 8000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [description] = Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discountType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantityReceived] = 2
PurchaseBillFormSplit.tsx:1271 DEEP DEBUG - Final processing decision for Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:1302 Found totalDiscount in metadata: 0
PurchaseBillFormSplit.tsx:1316 Setting totalDiscount: 0 type: flat
PurchaseBillFormSplit.tsx:1366 Checking for metadata in editingBill: Object
PurchaseBillFormSplit.tsx:1378 Using totalDiscount from metadata: 0
PurchaseBillFormSplit.tsx:1451 ‚ö†Ô∏è FIXED: Quantity for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): Object
PurchaseBillFormSplit.tsx:1473 üîç FINAL ITEMS FOR FORM: [
  {
    "productId": 5,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:1491 üîß EXPLICITLY set form item 0 (5) quantityReceived to: 2
PurchaseBillFormSplit.tsx:1502 Final form reset - Product 5: Quantity 2
PurchaseBillFormSplit.tsx:1514 REBUILD - Initializing form with complete bill data and quantities
PurchaseBillFormSplit.tsx:1531 INIT ITEM 0: Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:1594 REBUILD - Quantity confirmation complete
PurchaseBillFormSplit.tsx:1634 üîí TOGGLE: Switching from true to false for bill 22
PurchaseBillFormSplit.tsx:1655 üîÑ UPDATE FREEZE STATUS: Setting bill 22 freeze to false
PurchaseBillFormSplit.tsx:1656 üîÑ UPDATE FREEZE STATUS: Current metadata: Object
PurchaseBillFormSplit.tsx:1682 üîÑ UPDATE FREEZE STATUS: Sending metadata: Object
PurchaseBillFormSplit.tsx:1688 ‚úÖ FREEZE STATUS UPDATE: Bill 22 freeze status successfully set to false
PurchaseBillFormSplit.tsx:1643 üîí TOGGLE: Successfully updated freeze state to false
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:239 üîí FREEZE SYSTEM: Initializing freeze state detection...
PurchaseBillFormSplit.tsx:247 üîí FREEZE SYSTEM: Checking bill metadata for freeze status Object
PurchaseBillFormSplit.tsx:268 üîí FREEZE SYSTEM: Successfully extracted freeze status Object
PurchaseBillFormSplit.tsx:283 üîí FREEZE SYSTEM: Setting freeze state to false for bill 22
PurchaseBillFormSplit.tsx:290 üîí FREEZE SYSTEM: Bill is unfrozen - form is editable
PurchaseBillFormSplit.tsx:297 üîí FREEZE STATE CHANGED: isFrozen is now false for bill 22
PurchaseBillFormSplit.tsx:301 üîì FORM UNLOCKED: All inputs should be editable and save button should work normally
PurchaseBillFormSplit.tsx:1164 BILL EDIT DEBUG - Full bill being edited: {
  "id": 22,
  "businessId": 1,
  "accountId": 1,
  "documentNumber": "BILL-20250526-8376",
  "date": "2025-05-26T00:10:20.533Z",
  "notes": "",
  "description": "Bill #BILL-20250526-8376",
  "status": "partial_received",
  "contactName": "Shayaduzzaman Khan",
  "vendorId": null,
  "billNumber": "BILL-20250526-8376",
  "billDate": "2025-05-26T00:10:20.533Z",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "amount": 0,
  "paymentReceived": 0,
  "items": [
    {
      "amount": 24000,
      "taxRate": 0,
      "taxType": "percentage",
      "discount": 0,
      "quantity": 3,
      "productId": 5,
      "unitPrice": 8000,
      "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
      "discountType": "percentage",
      "quantityReceived": 2
    }
  ],
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "createdAt": "2025-05-26T00:10:47.189Z",
  "type": "expense",
  "category": "Purchases",
  "metadata": {
    "totalDiscount": 0,
    "totalDiscountType": "flat",
    "dueDate": "2025-05-26T00:10:20.533Z",
    "itemQuantitiesReceived": [],
    "receivedQuantityMap": {},
    "isFrozen": false,
    "lastFreezeUpdate": "2025-05-26T10:49:55.564Z"
  }
}
PurchaseBillFormSplit.tsx:1184 DEBUG: Metadata was already an object
PurchaseBillFormSplit.tsx:1189 DEBUG: Raw metadata content: Object
PurchaseBillFormSplit.tsx:1200 DEBUG: Properly validated quantities from metadata: []
PurchaseBillFormSplit.tsx:1228 DEBUG: Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:1237 DEBUG: Added direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:1244 DEEP DEBUG - Raw transaction items before processing: [{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}]
PurchaseBillFormSplit.tsx:1245 DEEP DEBUG - Full transaction object: {"id":22,"businessId":1,"accountId":1,"documentNumber":"BILL-20250526-8376","date":"2025-05-26T00:10:20.533Z","notes":"","description":"Bill #BILL-20250526-8376","status":"partial_received","contactName":"Shayaduzzaman Khan","vendorId":null,"billNumber":"BILL-20250526-8376","billDate":"2025-05-26T00:10:20.533Z","dueDate":"2025-05-26T00:10:20.533Z","amount":0,"paymentReceived":0,"items":[{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}],"totalDiscount":0,"totalDiscountType":"flat","createdAt":"2025-05-26T00:10:47.189Z","type":"expense","category":"Purchases","metadata":{"totalDiscount":0,"totalDiscountType":"flat","dueDate":"2025-05-26T00:10:20.533Z","itemQuantitiesReceived":[],"receivedQuantityMap":{},"isFrozen":false,"lastFreezeUpdate":"2025-05-26T10:49:55.564Z"}}
PurchaseBillFormSplit.tsx:1252 DEEP DEBUG - Raw item data for product 5: {"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}
PurchaseBillFormSplit.tsx:1260 DEEP DEBUG - Found direct quantityReceived=2 on item for product 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [amount] = 24000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxRate] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discount] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantity] = 3
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [productId] = 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [unitPrice] = 8000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [description] = Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discountType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantityReceived] = 2
PurchaseBillFormSplit.tsx:1271 DEEP DEBUG - Final processing decision for Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:1302 Found totalDiscount in metadata: 0
PurchaseBillFormSplit.tsx:1316 Setting totalDiscount: 0 type: flat
PurchaseBillFormSplit.tsx:1366 Checking for metadata in editingBill: Object
PurchaseBillFormSplit.tsx:1378 Using totalDiscount from metadata: 0
PurchaseBillFormSplit.tsx:1451 ‚ö†Ô∏è FIXED: Quantity for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): Object
PurchaseBillFormSplit.tsx:1473 üîç FINAL ITEMS FOR FORM: [
  {
    "productId": 5,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:1491 üîß EXPLICITLY set form item 0 (5) quantityReceived to: 2
PurchaseBillFormSplit.tsx:1502 Final form reset - Product 5: Quantity 2
PurchaseBillFormSplit.tsx:1514 REBUILD - Initializing form with complete bill data and quantities
PurchaseBillFormSplit.tsx:1531 INIT ITEM 0: Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:1594 REBUILD - Quantity confirmation complete
PurchaseBillFormSplit.tsx:1634 üîí TOGGLE: Switching from false to true for bill 22
PurchaseBillFormSplit.tsx:1655 üîÑ UPDATE FREEZE STATUS: Setting bill 22 freeze to true
PurchaseBillFormSplit.tsx:1656 üîÑ UPDATE FREEZE STATUS: Current metadata: Object
PurchaseBillFormSplit.tsx:1682 üîÑ UPDATE FREEZE STATUS: Sending metadata: Object
PurchaseBillFormSplit.tsx:1688 ‚úÖ FREEZE STATUS UPDATE: Bill 22 freeze status successfully set to true
PurchaseBillFormSplit.tsx:1643 üîí TOGGLE: Successfully updated freeze state to true
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:239 üîí FREEZE SYSTEM: Initializing freeze state detection...
PurchaseBillFormSplit.tsx:247 üîí FREEZE SYSTEM: Checking bill metadata for freeze status Object
PurchaseBillFormSplit.tsx:268 üîí FREEZE SYSTEM: Successfully extracted freeze status Object
PurchaseBillFormSplit.tsx:283 üîí FREEZE SYSTEM: Setting freeze state to true for bill 22
PurchaseBillFormSplit.tsx:288 üîí FREEZE SYSTEM: Bill is frozen - applying form restrictions
PurchaseBillFormSplit.tsx:297 üîí FREEZE STATE CHANGED: isFrozen is now true for bill 22
PurchaseBillFormSplit.tsx:299 üßä FORM LOCKED: All inputs should be disabled and save button should show frozen message
PurchaseBillFormSplit.tsx:1164 BILL EDIT DEBUG - Full bill being edited: {
  "id": 22,
  "businessId": 1,
  "accountId": 1,
  "documentNumber": "BILL-20250526-8376",
  "date": "2025-05-26T00:10:20.533Z",
  "notes": "",
  "description": "Bill #BILL-20250526-8376",
  "status": "partial_received",
  "contactName": "Shayaduzzaman Khan",
  "vendorId": null,
  "billNumber": "BILL-20250526-8376",
  "billDate": "2025-05-26T00:10:20.533Z",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "amount": 0,
  "paymentReceived": 0,
  "items": [
    {
      "amount": 24000,
      "taxRate": 0,
      "taxType": "percentage",
      "discount": 0,
      "quantity": 3,
      "productId": 5,
      "unitPrice": 8000,
      "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
      "discountType": "percentage",
      "quantityReceived": 2
    }
  ],
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "createdAt": "2025-05-26T00:10:47.189Z",
  "type": "expense",
  "category": "Purchases",
  "metadata": {
    "totalDiscount": 0,
    "totalDiscountType": "flat",
    "dueDate": "2025-05-26T00:10:20.533Z",
    "itemQuantitiesReceived": [],
    "receivedQuantityMap": {},
    "isFrozen": true,
    "lastFreezeUpdate": "2025-05-26T10:50:01.184Z"
  }
}
PurchaseBillFormSplit.tsx:1184 DEBUG: Metadata was already an object
PurchaseBillFormSplit.tsx:1189 DEBUG: Raw metadata content: Object
PurchaseBillFormSplit.tsx:1200 DEBUG: Properly validated quantities from metadata: []
PurchaseBillFormSplit.tsx:1228 DEBUG: Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:1237 DEBUG: Added direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:1244 DEEP DEBUG - Raw transaction items before processing: [{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}]
PurchaseBillFormSplit.tsx:1245 DEEP DEBUG - Full transaction object: {"id":22,"businessId":1,"accountId":1,"documentNumber":"BILL-20250526-8376","date":"2025-05-26T00:10:20.533Z","notes":"","description":"Bill #BILL-20250526-8376","status":"partial_received","contactName":"Shayaduzzaman Khan","vendorId":null,"billNumber":"BILL-20250526-8376","billDate":"2025-05-26T00:10:20.533Z","dueDate":"2025-05-26T00:10:20.533Z","amount":0,"paymentReceived":0,"items":[{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}],"totalDiscount":0,"totalDiscountType":"flat","createdAt":"2025-05-26T00:10:47.189Z","type":"expense","category":"Purchases","metadata":{"totalDiscount":0,"totalDiscountType":"flat","dueDate":"2025-05-26T00:10:20.533Z","itemQuantitiesReceived":[],"receivedQuantityMap":{},"isFrozen":true,"lastFreezeUpdate":"2025-05-26T10:50:01.184Z"}}
PurchaseBillFormSplit.tsx:1252 DEEP DEBUG - Raw item data for product 5: {"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}
PurchaseBillFormSplit.tsx:1260 DEEP DEBUG - Found direct quantityReceived=2 on item for product 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [amount] = 24000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxRate] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discount] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantity] = 3
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [productId] = 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [unitPrice] = 8000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [description] = Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discountType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantityReceived] = 2
PurchaseBillFormSplit.tsx:1271 DEEP DEBUG - Final processing decision for Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:1302 Found totalDiscount in metadata: 0
PurchaseBillFormSplit.tsx:1316 Setting totalDiscount: 0 type: flat
PurchaseBillFormSplit.tsx:1366 Checking for metadata in editingBill: Object
PurchaseBillFormSplit.tsx:1378 Using totalDiscount from metadata: 0
PurchaseBillFormSplit.tsx:1451 ‚ö†Ô∏è FIXED: Quantity for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): Object
PurchaseBillFormSplit.tsx:1473 üîç FINAL ITEMS FOR FORM: [
  {
    "productId": 5,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:1491 üîß EXPLICITLY set form item 0 (5) quantityReceived to: 2
PurchaseBillFormSplit.tsx:1502 Final form reset - Product 5: Quantity 2
PurchaseBillFormSplit.tsx:1514 REBUILD - Initializing form with complete bill data and quantities
PurchaseBillFormSplit.tsx:1531 INIT ITEM 0: Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:1594 REBUILD - Quantity confirmation complete
PurchaseBillSplitView.tsx:685 Checking for discount in bill view: Object
PurchaseBillSplitView.tsx:693 Bill metadata when checking discount: Object
PurchaseBillSplitView.tsx:730 Discount calculation with improved handling: Object
PurchaseBillSplitView.tsx:685 Checking for discount in bill view: Object
PurchaseBillSplitView.tsx:693 Bill metadata when checking discount: Object
PurchaseBillSplitView.tsx:730 Discount calculation with improved handling: Object
PurchaseBillSplitView.tsx:685 Checking for discount in bill view: Object
PurchaseBillSplitView.tsx:693 Bill metadata when checking discount: Object
PurchaseBillSplitView.tsx:730 Discount calculation with improved handling: Object
PurchaseBillSplitView.tsx:685 Checking for discount in bill view: Object
PurchaseBillSplitView.tsx:693 Bill metadata when checking discount: Object
PurchaseBillSplitView.tsx:730 Discount calculation with improved handling: Object
PurchaseBillSplitView.tsx:186 Original bill for editing: Object
PurchaseBillSplitView.tsx:220 Prepared metadata for edit: Object
PurchaseBillSplitView.tsx:246 üü¢ EDIT PREP: Found direct property value 2 for product 5
PurchaseBillSplitView.tsx:304 üìä EDIT PREP SUMMARY for product 5: Object
PurchaseBillSplitView.tsx:312 VIEW FINAL: Product 5 received qty = 2 (direct-property)
PurchaseBillSplitView.tsx:339 Determined contact ID: null
PurchaseBillSplitView.tsx:342 Processed items: Array(1)
PurchaseBillSplitView.tsx:384 Bill object prepared for editing: Object
PurchaseBillFormSplit.tsx:82 INIT - Initializing bill items from editing bill: Object
PurchaseBillFormSplit.tsx:83 INIT - Items data to initialize from: [
  {
    "amount": 24000,
    "taxRate": 0,
    "taxType": "percentage",
    "discount": 0,
    "quantity": 3,
    "productId": 5,
    "unitPrice": 8000,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "discountType": "percentage",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:93 ‚úÖ INIT - Bill has metadata property
PurchaseBillFormSplit.tsx:100 ‚úÖ INIT - Successfully parsed metadata string: {
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "itemQuantitiesReceived": [],
  "receivedQuantityMap": {}
}
PurchaseBillFormSplit.tsx:113 ‚úÖ INIT - Found receivedQuantityMap in metadata: Object
PurchaseBillFormSplit.tsx:133 ‚úÖ INIT - Found itemQuantitiesReceived array in metadata: []
PurchaseBillFormSplit.tsx:154 ‚ö†Ô∏è INIT - No received quantities found in metadata
PurchaseBillFormSplit.tsx:177 INIT - Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:183 INIT - Adding direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:189 INIT - Final quantityReceivedMap: Object
PurchaseBillFormSplit.tsx:212 INIT - FINAL quantityReceived for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): 2
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:503 Parsed metadata: Object
PurchaseBillFormSplit.tsx:239 üîí FREEZE SYSTEM: Initializing freeze state detection...
PurchaseBillFormSplit.tsx:247 üîí FREEZE SYSTEM: Checking bill metadata for freeze status Object
PurchaseBillFormSplit.tsx:268 üîí FREEZE SYSTEM: Successfully extracted freeze status Object
PurchaseBillFormSplit.tsx:283 üîí FREEZE SYSTEM: Setting freeze state to false for bill 22
PurchaseBillFormSplit.tsx:290 üîí FREEZE SYSTEM: Bill is unfrozen - form is editable
PurchaseBillFormSplit.tsx:297 üîí FREEZE STATE CHANGED: isFrozen is now false for bill 22
PurchaseBillFormSplit.tsx:301 üîì FORM UNLOCKED: All inputs should be editable and save button should work normally
PurchaseBillFormSplit.tsx:1164 BILL EDIT DEBUG - Full bill being edited: {
  "id": 22,
  "businessId": 1,
  "accountId": 1,
  "documentNumber": "BILL-20250526-8376",
  "date": "2025-05-26T00:10:20.533Z",
  "notes": "",
  "description": "Bill #BILL-20250526-8376",
  "status": "partial_received",
  "contactName": "Shayaduzzaman Khan",
  "vendorId": null,
  "billNumber": "BILL-20250526-8376",
  "billDate": "2025-05-26T00:10:20.533Z",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "amount": 0,
  "paymentReceived": 0,
  "items": [
    {
      "amount": 24000,
      "taxRate": 0,
      "taxType": "percentage",
      "discount": 0,
      "quantity": 3,
      "productId": 5,
      "unitPrice": 8000,
      "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
      "discountType": "percentage",
      "quantityReceived": 2
    }
  ],
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "createdAt": "2025-05-26T00:10:47.189Z",
  "type": "expense",
  "category": "Purchases",
  "metadata": "{\"totalDiscount\":0,\"totalDiscountType\":\"flat\",\"dueDate\":\"2025-05-26T00:10:20.533Z\",\"itemQuantitiesReceived\":[],\"receivedQuantityMap\":{}}"
}
PurchaseBillFormSplit.tsx:1176 DEBUG: Successfully parsed metadata from string
PurchaseBillFormSplit.tsx:1189 DEBUG: Raw metadata content: Object
PurchaseBillFormSplit.tsx:1200 DEBUG: Properly validated quantities from metadata: []
PurchaseBillFormSplit.tsx:1228 DEBUG: Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:1237 DEBUG: Added direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:1244 DEEP DEBUG - Raw transaction items before processing: [{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}]
PurchaseBillFormSplit.tsx:1245 DEEP DEBUG - Full transaction object: {"id":22,"businessId":1,"accountId":1,"documentNumber":"BILL-20250526-8376","date":"2025-05-26T00:10:20.533Z","notes":"","description":"Bill #BILL-20250526-8376","status":"partial_received","contactName":"Shayaduzzaman Khan","vendorId":null,"billNumber":"BILL-20250526-8376","billDate":"2025-05-26T00:10:20.533Z","dueDate":"2025-05-26T00:10:20.533Z","amount":0,"paymentReceived":0,"items":[{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}],"totalDiscount":0,"totalDiscountType":"flat","createdAt":"2025-05-26T00:10:47.189Z","type":"expense","category":"Purchases","metadata":"{\"totalDiscount\":0,\"totalDiscountType\":\"flat\",\"dueDate\":\"2025-05-26T00:10:20.533Z\",\"itemQuantitiesReceived\":[],\"receivedQuantityMap\":{}}"}
PurchaseBillFormSplit.tsx:1252 DEEP DEBUG - Raw item data for product 5: {"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}
PurchaseBillFormSplit.tsx:1260 DEEP DEBUG - Found direct quantityReceived=2 on item for product 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [amount] = 24000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxRate] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discount] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantity] = 3
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [productId] = 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [unitPrice] = 8000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [description] = Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discountType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantityReceived] = 2
PurchaseBillFormSplit.tsx:1271 DEEP DEBUG - Final processing decision for Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:1308 Found totalDiscount in direct property: 0
PurchaseBillFormSplit.tsx:1316 Setting totalDiscount: 0 type: flat
PurchaseBillFormSplit.tsx:1366 Checking for metadata in editingBill: Object
PurchaseBillFormSplit.tsx:1382 Using totalDiscount from direct property: 0
PurchaseBillFormSplit.tsx:1451 ‚ö†Ô∏è FIXED: Quantity for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): Object
PurchaseBillFormSplit.tsx:1473 üîç FINAL ITEMS FOR FORM: [
  {
    "productId": 5,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:1491 üîß EXPLICITLY set form item 0 (5) quantityReceived to: 2
PurchaseBillFormSplit.tsx:1502 Final form reset - Product 5: Quantity 2
PurchaseBillFormSplit.tsx:1514 REBUILD - Initializing form with complete bill data and quantities
PurchaseBillFormSplit.tsx:1531 INIT ITEM 0: Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:503 Parsed metadata: Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:503 Parsed metadata: Object
PurchaseBillFormSplit.tsx:1594 REBUILD - Quantity confirmation complete
PurchaseBillFormSplit.tsx:1634 üîí TOGGLE: Switching from false to true for bill 22
PurchaseBillFormSplit.tsx:1655 üîÑ UPDATE FREEZE STATUS: Setting bill 22 freeze to true
PurchaseBillFormSplit.tsx:1656 üîÑ UPDATE FREEZE STATUS: Current metadata: {"totalDiscount":0,"totalDiscountType":"flat","dueDate":"2025-05-26T00:10:20.533Z","itemQuantitiesReceived":[],"receivedQuantityMap":{}}
PurchaseBillFormSplit.tsx:1682 üîÑ UPDATE FREEZE STATUS: Sending metadata: Object
PurchaseBillFormSplit.tsx:1634 üîí TOGGLE: Switching from false to true for bill 22
PurchaseBillFormSplit.tsx:1655 üîÑ UPDATE FREEZE STATUS: Setting bill 22 freeze to true
PurchaseBillFormSplit.tsx:1656 üîÑ UPDATE FREEZE STATUS: Current metadata: {"totalDiscount":0,"totalDiscountType":"flat","dueDate":"2025-05-26T00:10:20.533Z","itemQuantitiesReceived":[],"receivedQuantityMap":{}}
PurchaseBillFormSplit.tsx:1682 üîÑ UPDATE FREEZE STATUS: Sending metadata: Object
PurchaseBillFormSplit.tsx:1688 ‚úÖ FREEZE STATUS UPDATE: Bill 22 freeze status successfully set to true
PurchaseBillFormSplit.tsx:1643 üîí TOGGLE: Successfully updated freeze state to true
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:239 üîí FREEZE SYSTEM: Initializing freeze state detection...
PurchaseBillFormSplit.tsx:247 üîí FREEZE SYSTEM: Checking bill metadata for freeze status Object
PurchaseBillFormSplit.tsx:268 üîí FREEZE SYSTEM: Successfully extracted freeze status Object
PurchaseBillFormSplit.tsx:283 üîí FREEZE SYSTEM: Setting freeze state to true for bill 22
PurchaseBillFormSplit.tsx:288 üîí FREEZE SYSTEM: Bill is frozen - applying form restrictions
PurchaseBillFormSplit.tsx:297 üîí FREEZE STATE CHANGED: isFrozen is now true for bill 22
PurchaseBillFormSplit.tsx:299 üßä FORM LOCKED: All inputs should be disabled and save button should show frozen message
PurchaseBillFormSplit.tsx:1164 BILL EDIT DEBUG - Full bill being edited: {
  "id": 22,
  "businessId": 1,
  "accountId": 1,
  "documentNumber": "BILL-20250526-8376",
  "date": "2025-05-26T00:10:20.533Z",
  "notes": "",
  "description": "Bill #BILL-20250526-8376",
  "status": "partial_received",
  "contactName": "Shayaduzzaman Khan",
  "vendorId": null,
  "billNumber": "BILL-20250526-8376",
  "billDate": "2025-05-26T00:10:20.533Z",
  "dueDate": "2025-05-26T00:10:20.533Z",
  "amount": 0,
  "paymentReceived": 0,
  "items": [
    {
      "amount": 24000,
      "taxRate": 0,
      "taxType": "percentage",
      "discount": 0,
      "quantity": 3,
      "productId": 5,
      "unitPrice": 8000,
      "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
      "discountType": "percentage",
      "quantityReceived": 2
    }
  ],
  "totalDiscount": 0,
  "totalDiscountType": "flat",
  "createdAt": "2025-05-26T00:10:47.189Z",
  "type": "expense",
  "category": "Purchases",
  "metadata": {
    "totalDiscount": 0,
    "totalDiscountType": "flat",
    "dueDate": "2025-05-26T00:10:20.533Z",
    "itemQuantitiesReceived": [],
    "receivedQuantityMap": {},
    "isFrozen": true,
    "lastFreezeUpdate": "2025-05-26T10:50:49.913Z"
  }
}
PurchaseBillFormSplit.tsx:1184 DEBUG: Metadata was already an object
PurchaseBillFormSplit.tsx:1189 DEBUG: Raw metadata content: Object
PurchaseBillFormSplit.tsx:1200 DEBUG: Properly validated quantities from metadata: []
PurchaseBillFormSplit.tsx:1228 DEBUG: Found direct quantities in items: Array(1)
PurchaseBillFormSplit.tsx:1237 DEBUG: Added direct quantity for product 5: 2
PurchaseBillFormSplit.tsx:1244 DEEP DEBUG - Raw transaction items before processing: [{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}]
PurchaseBillFormSplit.tsx:1245 DEEP DEBUG - Full transaction object: {"id":22,"businessId":1,"accountId":1,"documentNumber":"BILL-20250526-8376","date":"2025-05-26T00:10:20.533Z","notes":"","description":"Bill #BILL-20250526-8376","status":"partial_received","contactName":"Shayaduzzaman Khan","vendorId":null,"billNumber":"BILL-20250526-8376","billDate":"2025-05-26T00:10:20.533Z","dueDate":"2025-05-26T00:10:20.533Z","amount":0,"paymentReceived":0,"items":[{"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}],"totalDiscount":0,"totalDiscountType":"flat","createdAt":"2025-05-26T00:10:47.189Z","type":"expense","category":"Purchases","metadata":{"totalDiscount":0,"totalDiscountType":"flat","dueDate":"2025-05-26T00:10:20.533Z","itemQuantitiesReceived":[],"receivedQuantityMap":{},"isFrozen":true,"lastFreezeUpdate":"2025-05-26T10:50:49.913Z"}}
PurchaseBillFormSplit.tsx:1252 DEEP DEBUG - Raw item data for product 5: {"amount":24000,"taxRate":0,"taxType":"percentage","discount":0,"quantity":3,"productId":5,"unitPrice":8000,"description":"Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.","discountType":"percentage","quantityReceived":2}
PurchaseBillFormSplit.tsx:1260 DEEP DEBUG - Found direct quantityReceived=2 on item for product 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [amount] = 24000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxRate] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [taxType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discount] = 0
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantity] = 3
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [productId] = 5
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [unitPrice] = 8000
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [description] = Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [discountType] = percentage
PurchaseBillFormSplit.tsx:1266 DEEP DEBUG - Item property [quantityReceived] = 2
PurchaseBillFormSplit.tsx:1271 DEEP DEBUG - Final processing decision for Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:1302 Found totalDiscount in metadata: 0
PurchaseBillFormSplit.tsx:1316 Setting totalDiscount: 0 type: flat
PurchaseBillFormSplit.tsx:1366 Checking for metadata in editingBill: Object
PurchaseBillFormSplit.tsx:1378 Using totalDiscount from metadata: 0
PurchaseBillFormSplit.tsx:1451 ‚ö†Ô∏è FIXED: Quantity for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.): Object
PurchaseBillFormSplit.tsx:1473 üîç FINAL ITEMS FOR FORM: [
  {
    "productId": 5,
    "description": "Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.",
    "quantityReceived": 2
  }
]
PurchaseBillFormSplit.tsx:1491 üîß EXPLICITLY set form item 0 (5) quantityReceived to: 2
PurchaseBillFormSplit.tsx:1502 Final form reset - Product 5: Quantity 2
PurchaseBillFormSplit.tsx:1514 REBUILD - Initializing form with complete bill data and quantities
PurchaseBillFormSplit.tsx:1531 INIT ITEM 0: Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance. (ID: 5) Object
PurchaseBillFormSplit.tsx:373 INITIALIZATION: Starting extraction for product 5 (Bluetooth 5.0 true wireless earbuds with touch controls, 30-hour battery life, and water resistance.)
PurchaseBillFormSplit.tsx:403 EXTRACT: Direct property found with value 2 for product 5
PurchaseBillFormSplit.tsx:470 EXTRACTION COMPLETE for product 5: Object
PurchaseBillFormSplit.tsx:1594 REBUILD - Quantity confirmation complete
PurchaseBillFormSplit.tsx:1688 ‚úÖ FREEZE STATUS UPDATE: Bill 22 freeze status successfully set to true
PurchaseBillFormSplit.tsx:1643 üîí TOGGLE: Successfully updated freeze state to true
